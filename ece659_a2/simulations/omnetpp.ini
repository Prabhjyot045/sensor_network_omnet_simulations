[General]
network = ece659_a2.simulations.SensorNetwork
sim-time-limit = 600s
warmup-period = 60s
repeat = 5
seed-set = ${seed=101,202,303,404,505}

# Cmdenv performance tuning
cmdenv-express-mode = true
cmdenv-performance-display = false
cmdenv-status-frequency = 30s
record-eventlog = false

result-dir = results
output-scalar-file = ${resultdir}/${configname}-${runnumber}.sca
output-vector-file = ${resultdir}/${configname}-${runnumber}.vec

**.numSensors = 120
**.areaX = 400m
**.areaY = 400m
**.sinkX = 200m
**.sinkY = 200m
**.mobility.initFromDisplayString = false

# Radio/MAC fixed assignment values
**.wlan[*].typename = "CsmaCaInterface"
**.wlan[*].queue.packetCapacity = 30
**.wlan[*].mac.bitrate = 250kbps
**.wlan[*].mac.retryLimit = 4

# ApskScalarRadio required parameters (avoid Cmdenv prompts)
**.wlan[*].radio.centerFrequency = 2.4GHz
**.wlan[*].radio.bandwidth = 2MHz
**.wlan[*].radio.transmitter.centerFrequency = 2.4GHz
**.wlan[*].radio.transmitter.bandwidth = 2MHz
**.wlan[*].radio.transmitter.bitrate = 250kbps
**.wlan[*].radio.transmitter.power = 2mW
**.wlan[*].radio.transmitter.preambleDuration = 0s
**.wlan[*].radio.transmitter.headerLength = 0b
**.wlan[*].radio.receiver.centerFrequency = 2.4GHz
**.wlan[*].radio.receiver.bandwidth = 2MHz
**.wlan[*].radio.receiver.snirThreshold = 4dB
**.wlan[*].radio.receiver.energyDetection = -85dBm
**.wlan[*].radio.receiver.sensitivity = -100dBm

# Wireless medium defaults (avoid interactive prompts in Cmdenv)
**.radioMedium.backgroundNoise.typename = "IsotropicScalarBackgroundNoise"
**.radioMedium.backgroundNoise.power = -120dBm

# Ensure all node-level IPv4 configurators bind to the network-level configurator
**.ipv4.configurator.networkConfiguratorModule = "^.^.^.configurator"

# Traffic (base periodic sensing: 1 pkt / 5s / node)
**.alpha = 1.0
**.periodicInterval = 5s
**.enableBursts = false
**.burstFraction = 0.1
**.burstRate = 10pps
**.burstDuration = 15s
**.burstPeriod = 60s

# Application traffic and routing defaults (generate measurable events)
**.sink.numApps = 1
**.sink.app[0].typename = "UdpSink"
**.sink.app[0].interfaceTableModule = "^.interfaceTable"
**.sink.app[0].localPort = 5000
**.sink.app[0].receiveBroadcast = true

**.sensor[*].numApps = 1
**.sensor[*].app[0].typename = "UdpBasicBurst"
**.sensor[*].app[0].interfaceTableModule = "^.interfaceTable"
**.sensor[*].app[0].destAddresses = "sink"
**.sensor[*].app[0].chooseDestAddrMode = "once"
**.sensor[*].app[0].destPort = 5000
**.sensor[*].app[0].messageLength = 64B
**.sensor[*].app[0].startTime = uniform(0s,1s)
**.sensor[*].app[0].sendInterval = 5s
**.sensor[*].app[0].burstDuration = 600s
**.sensor[*].app[0].sleepDuration = 0s

**.sensor[*].routing.typename = "Dsdv"
**.sink.routing.typename = "Dsdv"

# Keep statistics enabled for ANF post-processing
**.scalar-recording = true
**.vector-recording = false

# Keep only key sink-side vectors for analysis while reducing I/O overhead
**.sink.app[0].packetReceived.vector-recording = true
**.sink.app[0].throughput.vector-recording = true
**.sink.app[0].endToEndDelay.vector-recording = true

# Keep network protocol and optional app choices explicit in configs.
# Flooding is available in INET as inet.networklayer.flooding.Flooding.
# Rumor routing is not a built-in INET 4.5 module and requires custom logic.

# Keep common defaults here; create per-question configs below.

[Config Base]
description = Shared defaults for simulation sub-questions only
extends = General

[Config Q1b]
description = Q1(b): steady vs bursty load sweep
extends = Base
**.enableBursts = ${profile=0,1}
**.alpha = ${alpha=0.5,1.0,1.5,2.0}
**.periodicInterval = 5s / ${alpha}
**.sensor[*].app[0].sendInterval = 5s / ${alpha}
**.sensor[*].app[0].burstDuration = 600s - 585s * ${profile}
**.sensor[*].app[0].sleepDuration = 45s * ${profile}

[Config Q2a]
description = Q2(a): controlled flooding-style baseline (broadcast traffic)
extends = Base
**.alpha = 1.0
**.sensor[*].app[0].destAddresses = "255.255.255.255"
**.sensor[*].app[0].sendInterval = 5s
**.sensor[*].app[0].burstDuration = 600s
**.sensor[*].app[0].sleepDuration = 0s

[Config Q2b]
description = Q2(b): rumor routing (custom implementation required)
extends = Base
**.alpha = 1.0
**.sensor[*].app[0].sendInterval = 5s
**.sensor[*].app[0].burstDuration = 600s
**.sensor[*].app[0].sleepDuration = 0s
**.rumor.numAgents = 2
**.rumor.agentTtl = 25
**.rumor.queryTtl = 40

[Config Q3b]
description = Q3(b): synchronization protocol implementation
extends = Base
**.alpha = 1.0
**.sensor[*].app[0].sendInterval = 5s
**.sensor[*].app[0].burstDuration = 600s
**.sensor[*].app[0].sleepDuration = 0s
**.sync.protocol = "tpsn"

[Config Q6a]
description = Q6 Part A(a): localization method implementation only
extends = Base
**.alpha = 1.0
**.sensor[*].app[0].sendInterval = 5s
**.sensor[*].app[0].burstDuration = 600s
**.sensor[*].app[0].sleepDuration = 0s
**.localization.mode = "rssi"
